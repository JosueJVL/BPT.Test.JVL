„"
Ä/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/AssignmentController.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
." #
Controllers# .
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
[ 
	Authorize 
] 
public 

class  
AssignmentController %
:& '
ControllerBase( 6
{ 
private 
readonly 
IAssignmentService +
service, 3
;3 4
public  
AssignmentController #
(# $
IAssignmentService$ 6
service7 >
)> ?
{ 	
this 
. 
service 
= 
service "
;" #
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IEnumerable %
<% &
AssignmentDto& 3
>3 4
>4 5
Get6 9
(9 :
): ;
{ 	
return 
await 
service  
.  !
GetAll! '
(' (
)( )
;) *
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
ActionResult &
<& '
AssignmentDto' 4
>4 5
>5 6
Get7 :
(: ;
int; >
id? A
)A B
{   	
return!! 
await!! 
service!!  
.!!  !
GetById!!! (
(!!( )
id!!) +
)!!+ ,
;!!, -
}"" 	
[%% 	
HttpPost%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
>&&& '
Post&&( ,
(&&, -
[&&- .
FromBody&&. 6
]&&6 7
AssignmentDto&&8 E
value&&F K
)&&K L
{'' 	
var(( 
result(( 
=(( 
await(( 
service(( &
.((& '
Create((' -
(((- .
value((. 3
)((3 4
;((4 5
return)) 
CreatedAtAction)) "
())" #
$str))# (
,))( )
new))* -
{)). /
id))0 2
=))3 4
result))5 ;
.)); <
IdAssignment))< H
}))I J
,))J K
result))L R
)))R S
;))S T
}** 	
[-- 	
HttpPut--	 
(-- 
$str-- 
)-- 
]-- 
public.. 
async.. 
Task.. 
<.. 
ActionResult.. &
>..& '
Put..( +
(..+ ,
int.., /
id..0 2
,..2 3
[..4 5
FromBody..5 =
]..= >
AssignmentDto..? L
value..M R
)..R S
{// 	
if00 
(00 
await00 
service00 
.00 
Update00 $
(00$ %
id00% '
,00' (
value00) .
)00. /
)00/ 0
{11 
return22 
	NoContent22  
(22  !
)22! "
;22" #
}33 
return55 
NotFound55 
(55 
)55 
;55 
}66 	
[99 	

HttpDelete99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
ActionResult:: &
>::& '
Delete::( .
(::. /
int::/ 2
id::3 5
)::5 6
{;; 	
if<< 
(<< 
await<< 
service<< 
.<< 
Remove<< $
(<<$ %
id<<% '
)<<' (
)<<( )
{== 
return>> 
	NoContent>>  
(>>  !
)>>! "
;>>" #
}?? 
returnAA 
NotFoundAA 
(AA 
)AA 
;AA 
}BB 	
}CC 
}DD “
á/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/AssignmentStudentController.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
." #
Controllers# .
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
[ 
	Authorize 
] 
public 

class '
AssignmentStudentController ,
:- .
ControllerBase/ =
{ 
private 
readonly %
IAssignmentStudentService 2
service3 :
;: ;
public '
AssignmentStudentController *
(* +%
IAssignmentStudentService+ D
serviceE L
)L M
{ 	
this 
. 
service 
= 
service "
;" #
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IEnumerable %
<% & 
AssignmentStudentDto& :
>: ;
>; <
Get= @
(@ A
)A B
{ 	
return 
await 
service  
.  !
GetAll! '
(' (
)( )
;) *
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IEnumerable %
<% & 
AssignmentStudentDto& :
>: ;
>; <
GetById= D
(D E
intE H
idI K
)K L
{   	
return!! 
await!! 
service!!  
.!!  !
GetById!!! (
(!!( )
id!!) +
)!!+ ,
;!!, -
}"" 	
[%% 	
HttpPost%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
>&&& '
Post&&( ,
(&&, -
[&&- .
FromBody&&. 6
]&&6 7 
AssignmentStudentDto&&8 L
value&&M R
)&&R S
{'' 	
var(( 
result(( 
=(( 
await(( 
service(( &
.((& '
Create((' -
(((- .
value((. 3
)((3 4
;((4 5
return)) 
CreatedAtAction)) "
())" #
$str))# (
,))( )
new))* -
{)). /
id))0 2
=))3 4
result))5 ;
.)); <
	IdStudent))< E
}))F G
,))G H
result))I O
)))O P
;))P Q
}** 	
[-- 	

HttpDelete--	 
(-- 
$str-- 
)-- 
]-- 
public.. 
async.. 
Task.. 
<.. 
ActionResult.. &
>..& '
Delete..( .
(... /
int../ 2
id..3 5
)..5 6
{// 	
if00 
(00 
await00 
service00 
.00 
Remove00 $
(00$ %
id00% '
)00' (
)00( )
{11 
return22 
	NoContent22  
(22  !
)22! "
;22" #
}33 
return55 
NotFound55 
(55 
)55 
;55 
}66 	
}77 
}88 ˝
Ñ/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/AuthenticationController.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
." #
Controllers# .
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class $
AuthenticationController )
:* +
ControllerBase, :
{ 
private 
readonly %
IJwTAuthenticationService 2$
jwTAuthenticationService3 K
;K L
public $
AuthenticationController '
(' (%
IJwTAuthenticationService( A$
jwTAuthenticationServiceB Z
)Z [
{ 	
this 
. $
jwTAuthenticationService )
=* +$
jwTAuthenticationService, D
;D E
} 	
[ 	
AllowAnonymous	 
] 
[ 	
HttpPost	 
] 
public 
IActionResult 
Login "
(" #
[# $
FromBody$ ,
], -
	UserModel- 6
login7 <
)< =
{ 	
var 
tokenString 
= $
jwTAuthenticationService 6
.6 7
Authenticate7 C
(C D
loginD I
.I J
UsernameJ R
,R S
loginT Y
.Y Z
PasswordZ b
)b c
;c d
if 
( 
string 
. 
IsNullOrEmpty $
($ %
tokenString% 0
)0 1
)1 2
{ 
return 
Unauthorized #
(# $
)$ %
;% &
} 
return!! 
Ok!! 
(!! 
tokenString!! !
)!!! "
;!!" #
}"" 	
}## 
}$$ Ù
}/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/DefaultController.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
." #
Controllers# .
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
DefaultController "
:# $
ControllerBase% 3
{ 
[		 	
HttpGet			 
]		 
public

 
string

 
Index

 
(

 
)

 
{ 	
return 
$str 
;  
} 	
} 
} »
Ü/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/DetailAssignmentController.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
." #
Controllers# .
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
[ 
	Authorize 
] 
public 

class &
DetailAssignmentController +
:, -
ControllerBase. <
{ 
private 
readonly $
IDetailAssignmentService 1
service2 9
;9 :
public &
DetailAssignmentController )
() *$
IDetailAssignmentService* B
serviceC J
)J K
{ 	
this 
. 
service 
= 
service "
;" #
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IEnumerable %
<% & 
AssignmentStudentDto& :
>: ;
>; <
Get= @
(@ A
)A B
{ 	
return 
await 
service  
.  !
GetAll! '
(' (
)( )
;) *
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IEnumerable %
<% & 
AssignmentStudentDto& :
>: ;
>; <
Get= @
(@ A
intA D
idE G
)G H
{ 	
return   
await   
service    
.    !
GetById  ! (
(  ( )
id  ) +
)  + ,
;  , -
}!! 	
}"" 
}## π
É/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/DetailStudentController.cs
	namespace		 	
BPT		
 
.		 
Test		 
.		 
JVL		 
.		 
BackEnd		 
.		 
API		 "
.		" #
Controllers		# .
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
[ 
	Authorize 
] 
public 

class #
DetailStudentController (
:) *
ControllerBase+ 9
{ 
private 
readonly !
IDetailStudentService .
service/ 6
;6 7
public #
DetailStudentController &
(& '!
IDetailStudentService' <
service= D
)D E
{ 	
this 
. 
service 
= 
service "
;" #
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IEnumerable %
<% & 
AssignmentStudentDto& :
>: ;
>; <
Get= @
(@ A
)A B
{ 	
return 
await 
service  
.  !
GetAll! '
(' (
)( )
;) *
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IEnumerable %
<% & 
AssignmentStudentDto& :
>: ;
>; <
Get= @
(@ A
intA D
idE G
)G H
{   	
return!! 
await!! 
service!!  
.!!  !
GetById!!! (
(!!( )
id!!) +
)!!+ ,
;!!, -
}"" 	
}## 
}$$ ì#
}/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Controllers/StudentController.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
." #
Controllers# .
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
[ 
	Authorize 
] 
public 

class 
StudentController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IStudentService (
studentService) 7
;7 8
public 
StudentController  
(  !
IStudentService! 0
studentService1 ?
)? @
{ 	
this 
. 
studentService 
=  !
studentService" 0
;0 1
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IEnumerable %
<% &
StudentsDto& 1
>1 2
>2 3
Get4 7
(7 8
)8 9
{ 	
return 
await 
studentService '
.' (
GetStudents( 3
(3 4
)4 5
;5 6
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
ActionResult &
<& '
StudentsDto' 2
>2 3
>3 4
Get5 8
(8 9
int9 <
id= ?
)? @
{   	
return!! 
await!! 
studentService!! '
.!!' (
GetStudentById!!( 6
(!!6 7
id!!7 9
)!!9 :
;!!: ;
}"" 	
[%% 	
HttpPost%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
>&&& '
Post&&( ,
(&&, -
[&&- .
FromBody&&. 6
]&&6 7
StudentsDto&&8 C
value&&D I
)&&I J
{'' 	
var(( 
result(( 
=(( 
await(( 
studentService(( -
.((- .
Create((. 4
(((4 5
value((5 :
)((: ;
;((; <
return)) 
CreatedAtAction)) "
())" #
$str))# (
,))( )
new))* -
{)). /
id))0 2
=))3 4
result))5 ;
.)); <
	IdStudent))< E
}))F G
,))G H
result))I O
)))O P
;))P Q
}** 	
[-- 	
HttpPut--	 
(-- 
$str-- 
)-- 
]-- 
public.. 
async.. 
Task.. 
<.. 
ActionResult.. &
>..& '
Put..( +
(..+ ,
int.., /
id..0 2
,..2 3
[..4 5
FromBody..5 =
]..= >
StudentsDto..? J
value..K P
)..P Q
{// 	
if00 
(00 
await00 
studentService00 $
.00$ %
Update00% +
(00+ ,
id00, .
,00. /
value000 5
)005 6
)006 7
{11 
return22 
	NoContent22  
(22  !
)22! "
;22" #
}33 
return55 
NotFound55 
(55 
)55 
;55 
}66 	
[99 	

HttpDelete99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
ActionResult:: &
>::& '
Delete::( .
(::. /
int::/ 2
id::3 5
)::5 6
{;; 	
if<< 
(<< 
await<< 
studentService<< $
.<<$ %
Remove<<% +
(<<+ ,
id<<, .
)<<. /
)<</ 0
{== 
return>> 
	NoContent>>  
(>>  !
)>>! "
;>>" #
}?? 
returnAA 
NotFoundAA 
(AA 
)AA 
;AA 
}BB 	
}CC 
}DD Ω
g/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Program.cs
	namespace

 	
BPT


 
.

 
Test

 
.

 
JVL

 
.

 
BackEnd

 
.

 
API

 "
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} √1
g/Users/josuevicenciolara/Projects/carpeta sin tiÃÅtulo/BPT.Test.JVL/BPT.Test.JVL.BackEnd.API/Startup.cs
	namespace 	
BPT
 
. 
Test 
. 
JVL 
. 
BackEnd 
. 
API "
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public!! 
void!! 
ConfigureServices!! %
(!!% &
IServiceCollection!!& 8
services!!9 A
)!!A B
{"" 	
services## 
.## 
AddControllers## #
(### $
)##$ %
;##% &
services%% 
.%% 
AddAuthentication%% &
(%%& '
x%%' (
=>%%) +
{&& 
x'' 
.'' %
DefaultAuthenticateScheme'' +
='', -
JwtBearerDefaults''. ?
.''? @ 
AuthenticationScheme''@ T
;''T U
x(( 
.(( "
DefaultChallengeScheme(( (
=(() *
JwtBearerDefaults((+ <
.((< = 
AuthenticationScheme((= Q
;((Q R
})) 
))) 
.)) 
AddJwtBearer)) 
()) 
x)) 
=>))  
{** 
x++ 
.++  
RequireHttpsMetadata++ &
=++' (
false++) .
;++. /
x,, 
.,, 
	SaveToken,, 
=,, 
true,, "
;,," #
x-- 
.-- %
TokenValidationParameters-- +
=--, -
new--. 1
	Microsoft--2 ;
.--; <
IdentityModel--< I
.--I J
Tokens--J P
.--P Q%
TokenValidationParameters--Q j
{.. 
IssuerSigningKey// $
=//% &
new//' * 
SymmetricSecurityKey//+ ?
(//? @
Encoding//@ H
.//H I
UTF8//I M
.//M N
GetBytes//N V
(//V W
Configuration//W d
[//d e
$str//e n
]//n o
)//o p
)//p q
,//q r
ValidateIssuer00 "
=00# $
false00% *
,00* +$
ValidateIssuerSigningKey11 ,
=11- .
true11/ 3
,113 4
ValidateAudience22 $
=22% &
false22' ,
,22, -
}33 
;33 
}44 
)44 
;44 
services66 
.66 
AddDbContext66 !
<66! "
BPTDbContext66" .
>66. /
(66/ 0
options660 7
=>668 :
options66; B
.66B C
UseSqlServer66C O
(66O P
Configuration66P ]
.66] ^
GetConnectionString66^ q
(66q r
$str	66r É
)
66É Ñ
)
66Ñ Ö
)
66Ö Ü
;
66Ü á
services77 
.77 
	AddScoped77 
<77 
IStudentService77 .
,77. /
StudentService770 >
>77> ?
(77? @
)77@ A
;77A B
services88 
.88 
	AddScoped88 
<88 
IAssignmentService88 1
,881 2
AssignmentService883 D
>88D E
(88E F
)88F G
;88G H
services99 
.99 
	AddScoped99 
<99 %
IAssignmentStudentService99 8
,998 9$
AssignmentStudentService99: R
>99R S
(99S T
)99T U
;99U V
services:: 
.:: 
	AddScoped:: 
<:: $
IDetailAssignmentService:: 7
,::7 8#
DetailAssignmentService::9 P
>::P Q
(::Q R
)::R S
;::S T
services;; 
.;; 
	AddScoped;; 
<;; !
IDetailStudentService;; 4
,;;4 5 
DetailStudentService;;6 J
>;;J K
(;;K L
);;L M
;;;M N
services<< 
.<< 
	AddScoped<< 
<<< %
IJwTAuthenticationService<< 8
,<<8 9$
JwTAuthenticationService<<: R
><<R S
(<<S T
)<<T U
;<<U V
var?? 
config?? 
=?? 
new?? 

AutoMapper?? '
.??' (
MapperConfiguration??( ;
(??; <
cfg??< ?
=>??@ B
cfg??C F
.??F G

AddProfile??G Q
(??Q R
new??R U
AutoMapping??V a
(??a b
)??b c
)??c d
)??d e
;??e f
var@@ 
mapper@@ 
=@@ 
config@@ 
.@@  
CreateMapper@@  ,
(@@, -
)@@- .
;@@. /
servicesAA 
.AA 
AddSingletonAA !
(AA! "
mapperAA" (
)AA( )
;AA) *
}CC 	
publicFF 
voidFF 
	ConfigureFF 
(FF 
IApplicationBuilderFF 1
appFF2 5
,FF5 6
IWebHostEnvironmentFF7 J
envFFK N
)FFN O
{GG 	
ifHH 
(HH 
envHH 
.HH 
IsDevelopmentHH !
(HH! "
)HH" #
)HH# $
{II 
appJJ 
.JJ %
UseDeveloperExceptionPageJJ -
(JJ- .
)JJ. /
;JJ/ 0
}KK 
appMM 
.MM 

UseRoutingMM 
(MM 
)MM 
;MM 
appPP 
.PP 
UseAuthenticationPP !
(PP! "
)PP" #
;PP# $
appRR 
.RR 
UseAuthorizationRR  
(RR  !
)RR! "
;RR" #
appTT 
.TT 
UseEndpointsTT 
(TT 
	endpointsTT &
=>TT' )
{UU 
	endpointsVV 
.VV 
MapControllersVV (
(VV( )
)VV) *
;VV* +
}WW 
)WW 
;WW 
}XX 	
}YY 
}ZZ 